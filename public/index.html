<!DOCTYPE html>
<html ng-app="CrawlingSpecter">
	<head>
		<title>Crawling Specter</title>

		<link href="index.css" rel="stylesheet" type="text/css"></link>
		<link rel="icon" type="image/png" href="imgs/favicon.png"></link>

		<script src="js/jquery/jquery.min.js" type="text/javascript"></script>
		<script src="js/angularjs/angular.min.js" type="text/javascript"></script>
		<script src="controllers.js" type="text/javascript"></script>

        <script src="https://cdn.socket.io/socket.io-1.0.4.js"></script>
        <script src="/socket.io/socket.io.js"></script>
        <script>var socket = io.connect(window.location.hostname + ":8001");</script>
        <script type="text/javascript">
            socket.on("uiUpdate", function (update){$("#countQueue").text(update.count); $("#log").append(update.log+"\n\n"); $("#log").scrollTop($("#log").scrollHeight)})

            function updateParameters(){
                socket.emit("paramUpdate", { url: $("#url").val(), numbots: $("#numberWorkers").val() })
            }
        </script>
		
        <meta name="apple-mobile-web-app-capable" content="yes"></meta>
		<meta name="apple-mobile-web-app-status-bar-style" content="black"></meta>
		<meta name = "viewport" content ="user-scalable=no, width=640, initial-scale=.5"></meta>
		<link rel="apple-touch-startup-image" href="imgs/iphoneicon.png"></link>
	</head>

	<body style="margin: 0px;">
		<section ng-controller="crawlerController">
			<main style="height: 100vh; width: 100vw;">
				<p>
                    Url: <input type="url" id="url"></input>
                    <input type="button" id="startcrawl" value="Start Crawl" onclick="updateParameters()"></input>
                    <br />
                    Number Workers: <input type="number" id="numberWorkers"></input>
                    <br/>
                    <textarea rows="10" style="width:100%" id="log" readonly></textarea>
                    <br />
                    Links queued: <div id="countQueue" style="display: inline">hi</div>
				</p>
            </main>
		</section>
	</body>

</html>
